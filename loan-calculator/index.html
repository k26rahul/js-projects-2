<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loan Calculator</title>

    <meta property="og:title" content="Loan Calculator" />
    <meta property="og:description" content="Monthly breakdown of loan payment" />
    <meta
      property="og:image"
      content="https://k26rahul.github.io/js-projects-2/loan-calculator/screenshot.jpg"
    />
    <meta name="project:tags" content="Finance,Calculator,Amortization,Dark Mode" />

    <script
      src="https://cdn.jsdelivr.net/npm/iconify-icon@3.0.0/dist/iconify-icon.min.js"
      defer=""
    ></script>

    <script>
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add('dark-theme');
      }
    </script>

    <link rel="shortcut icon" href="favicon.svg" />
    <link rel="stylesheet" href="style.css" />
    <script src="main.js" defer></script>
  </head>
  <body>
    <button id="theme-toggle" aria-label="Toggle dark theme">
      <iconify-icon icon="mdi:theme-light-dark"></iconify-icon>
    </button>

    <main>
      <h1>Loan Calculator</h1>

      <form class="loan-form">
        <label class="row">
          Principal (₹)
          <input name="principal" type="number" inputmode="decimal" value="800000" />
        </label>

        <label class="row">
          Interest rate (% p.a.)
          <input name="rate" type="number" step="0.01" inputmode="decimal" value="12" />
        </label>

        <label class="row">
          Monthly payment (₹)
          <input name="payment" type="number" inputmode="decimal" value="25000" />
        </label>

        <label class="row checkbox-row">
          <input name="includeCurrent" type="checkbox" checked />
          Include current month in calculation
        </label>
      </form>

      <h2>Summary</h2>

      <section class="loan-summary">
        <p id="summary-error" class="error-message" hidden></p>
        <ul>
          <li><strong>Loan complete by:</strong> <span id="summary-last-month">—</span></li>
          <li><strong>Total months:</strong> <span id="summary-months">—</span></li>
          <li><strong>Total principal paid:</strong> <span id="summary-principal">—</span></li>
          <li><strong>Total interest paid:</strong> <span id="summary-interest">—</span></li>
          <li><strong>Total payment:</strong> <span id="summary-total">—</span></li>
        </ul>
      </section>

      <h2>Amortization Schedule</h2>

      <section class="loan-schedule">
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Month</th>
                <th>Principal Paid</th>
                <th>Interest Charged</th>
                <th>Balance</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </main>
  </body>
</html>
