<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loan Calculator</title>

    <meta property="og:title" content="Loan Calculator" />
    <meta property="og:description" content="Monthly breakdown of loan payment" />
    <meta
      property="og:image"
      content="https://k26rahul.github.io/js-projects-2/loan-calculator/screenshot.jpg"
    />
    <meta name="project:tags" content="Finance,Calculator,Amortization,Dark Mode" />

    <script
      src="https://cdn.jsdelivr.net/npm/iconify-icon@3.0.0/dist/iconify-icon.min.js"
      defer=""
    ></script>

    <script>
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.documentElement.classList.add('dark-theme');
      }
    </script>

    <link rel="shortcut icon" href="favicon.svg" />
    <link rel="stylesheet" href="style.css" />
    <script src="main.js" defer></script>
  </head>
  <body>
    <button id="theme-toggle" aria-label="Toggle dark theme">
      <iconify-icon icon="mdi:theme-light-dark"></iconify-icon>
    </button>

    <main>
      <h1>Loan Calculator</h1>

      <form>
        <label class="row">
          Principal (₹)
          <input name="principal" type="number" min="0" inputmode="decimal" value="100" />
        </label>

        <label class="row">
          Interest rate (% p.a.)
          <input
            name="annualRate"
            type="number"
            min="0"
            step="0.1"
            inputmode="decimal"
            value="12"
          />
        </label>

        <div class="mode-options">
          <label class="mode-option">
            <input type="radio" name="calculationMode" value="fixedPayment" checked />

            <div class="content">
              <div>Fixed Monthly Payment (₹)</div>
              <input name="monthlyPayment" type="number" min="0" inputmode="decimal" value="20" />
            </div>
          </label>

          <label class="mode-option">
            <input type="radio" name="calculationMode" value="fixedDuration" />

            <div class="content">
              <div>Fixed Duration</div>
              <select name="duration">
                <option value="3">3 months</option>
                <option value="6">6 months</option>
                <option value="9">9 months</option>
                <option value="12">12 months</option>
                <option value="18">18 months</option>
                <option value="24">24 months</option>
                <option value="36">36 months</option>
                <option value="48">48 months</option>
                <option value="60">60 months</option>
              </select>
            </div>
          </label>
        </div>

        <label class="row checkbox-row">
          <input name="includeCurrentMonth" type="checkbox" checked />
          Include current month in calculation
        </label>
      </form>

      <h2>Summary</h2>

      <section class="summary">
        <p id="error-message" hidden>
          Monthly payment will never pay off the loan. Increase the payment.
        </p>
        <ul>
          <li><strong>Loan complete by:</strong> <span id="summary-last-month">—</span></li>
          <li><strong>Total months:</strong> <span id="summary-months">—</span></li>
          <li><strong>Monthly payment:</strong> <span id="summary-monthly">—</span></li>
          <li><strong>Total principal paid:</strong> <span id="summary-principal">—</span></li>
          <li><strong>Total interest paid:</strong> <span id="summary-interest">—</span></li>
          <li><strong>Total payment:</strong> <span id="summary-total">—</span></li>
        </ul>
      </section>

      <h2>Amortization Schedule</h2>

      <section class="table-container">
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Month</th>
                <th>Principal Paid</th>
                <th>Interest Charged</th>
                <th>Balance</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </main>
  </body>
</html>
